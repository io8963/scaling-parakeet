/* --- START OF FILE scaling-parakeet-main/assets/style.css --- */

/* =========================================
   A. 全局重置
   ========================================= */
*, *::before, *::after {
    box-sizing: border-box;
}

html {
    scroll-behavior: smooth;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
    font-size: 16px;
    line-height: 1.6;
    margin: 0;
    padding: 0;
    color: var(--color-text);
    background-color: var(--color-background);
    transition: background-color 0.3s, color 0.3s;
}

/* 链接默认样式 */
a {
    color: var(--color-primary);
    text-decoration: none;
    transition: color 0.2s;
    position: relative;
    display: inline-block;
}

a:hover {
    color: var(--color-primary);
}

/* 链接悬停效果：从左侧划出下划线 */
a:not(.nav-link, .tag-badge, .post-tag-badge, .list-item-archive, .tag-entry, .skip-link, .site-title, .back-to-top, .license-icon a)::after {
    content: '';
    position: absolute;
    width: 100%;
    transform: scaleX(0);
    height: 2px;
    bottom: 0;
    left: 0;
    background-color: var(--color-primary);
    transform-origin: bottom right;
    transition: transform 0.25s ease-out;
}

a:not(.nav-link, .tag-badge, .post-tag-badge, .list-item-archive, .tag-entry, .skip-link, .site-title, .back-to-top, .license-icon a):hover::after {
    transform: scaleX(1);
    transform-origin: bottom left;
}


/* =========================================
   B. 布局
   ========================================= */
header, main, footer {
    width: 100%;
}

.header-inner, .main-layout, .footer-content {
    max-width: 900px; 
    margin: 0 auto;
    padding: 0 20px;
}

/* 主内容布局：文章内容和 TOC */
.main-layout {
    display: flex;
    justify-content: center;
    gap: 30px;
    padding-top: 30px;
    padding-bottom: 50px;
}

.content-area {
    flex-grow: 1;
    max-width: 700px;
}

.toc-area {
    position: sticky;
    top: 20px; 
    width: 250px;
    max-height: calc(100vh - 40px);
    overflow-y: auto;
    padding-left: 15px;
    border-left: 2px solid var(--color-border);
}

/* 响应式调整 */
@media (max-width: 1000px) {
    .main-layout {
        flex-direction: column;
        gap: 0;
    }
    .content-area {
        max-width: 100%;
        padding: 0 20px; 
    }
    .toc-area {
        display: none; /* 在小屏幕上隐藏 TOC */
    }
}


/* =========================================
   C. 主题变量
   ========================================= */
:root {
    --color-primary: #00796b; 
    --color-primary-light: #e0f2f1; 
    --color-link-dark: #80cbc4; 
    
    --color-text: #2c3e50; 
    --color-text-secondary: #888; 
    --color-background: #ffffff; 
    --color-card: #ffffff; 
    --color-border: #f0f0f0; 
    
    --color-text-dark: #ededed;
    --color-text-secondary-dark: #888;
    --color-background-dark: #121212; 
    --color-card-dark: #1e1e1e; 
    --color-border-light: #333;
    --color-border-dark: #2a2a2a;

    --color-code-bg: #f8f9fa;
    --color-code-bg-dark: #2c2c2c;
    --color-admonition-note: #00796b;
    --color-admonition-warn: #fbc02d;
    --color-admonition-error: #e57373;

    --color-main-border: var(--color-border); 
    --color-main-text: var(--color-text);
    --color-main-subtext: var(--color-text-secondary);
}


/* D. 暗色模式 */
@media (prefers-color-scheme: dark) {
    body {
        color: var(--color-text-dark);
        background-color: var(--color-background-dark);
    }
    
    a {
        color: var(--color-link-dark);
    }
    
    a:hover {
        color: var(--color-link-dark);
    }

    a:not(.nav-link, .tag-badge, .post-tag-badge, .list-item-archive, .tag-entry, .skip-link, .site-title, .back-to-top, .license-icon a)::after {
        background-color: var(--color-link-dark);
    }

    :root {
        --color-main-border: var(--color-border-dark);
        --color-main-text: var(--color-text-dark);
        --color-main-subtext: var(--color-text-secondary-dark);
    }
    
    .toc-area {
        border-left-color: var(--color-border-light);
    }
}

/* =========================================
   E. 头部和导航
   ========================================= */
header {
    background-color: var(--color-background);
    border-bottom: 1px solid var(--color-main-border);
    padding: 15px 0;
    position: sticky;
    top: 0;
    z-index: 100;
}

.header-inner {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.site-title {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--color-main-text);
    text-decoration: none;
}

nav a {
    margin-left: 15px;
    font-size: 1rem;
    color: var(--color-main-subtext);
    padding: 5px 0;
}

nav a:hover {
    color: var(--color-primary);
}

/* 导航链接激活状态 */
nav .active-nav-link {
    color: var(--color-primary);
    font-weight: 600;
}


/* =========================================
   F. 文章/页面内容通用样式 (post-content)
   ========================================= */

.page-header h1 {
    font-size: 2rem;
    margin-bottom: 0.2em;
}

.page-header .post-meta {
    font-size: 0.9rem;
    color: var(--color-main-subtext);
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    flex-wrap: wrap;
}

.post-content {
    font-size: 1.05rem;
    line-height: 1.7;
    word-break: break-word; 
    hyphens: auto; 
}

.post-content h2, .post-content h3, .post-content h4 {
    margin-top: 2em;
    margin-bottom: 0.8em;
    padding-bottom: 0.2em;
    border-bottom: 1px solid var(--color-main-border);
}

.post-content h2 { font-size: 1.6rem; }
.post-content h3 { font-size: 1.4rem; }
.post-content h4 { font-size: 1.2rem; }

.post-content p {
    margin-top: 1em;
    margin-bottom: 1em;
}

.post-content img {
    max-width: 100%;
    height: auto;
    display: block;
    margin: 20px auto;
    border-radius: 6px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

/* 列表样式 */
.post-content ul, .post-content ol {
    padding-left: 25px;
}

.post-content li {
    margin-bottom: 0.5em;
}

/* 引用块样式 */
.post-content blockquote {
    margin: 20px 0;
    padding: 10px 20px;
    border-left: 4px solid var(--color-primary);
    background-color: var(--color-primary-light);
    color: var(--color-main-text);
    font-style: italic;
}

@media (prefers-color-scheme: dark) {
    .post-content blockquote {
        background-color: rgba(128, 203, 196, 0.1); 
        color: var(--color-text-dark);
    }
}

/* 任务列表 (Task Lists) */
.task-list-item {
    list-style-type: none; /* 移除默认的 list-style */
    padding-left: 0;
}
.task-list-item input[type="checkbox"] {
    margin-right: 5px;
}

/* 表格包裹器 */
.table-wrapper {
    overflow-x: auto; /* 允许表格水平滚动 */
    margin: 20px 0;
    border: 1px solid var(--color-main-border);
    border-radius: 6px;
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.05);
}

.post-content table {
    width: 100%;
    border-collapse: collapse;
    min-width: 600px; /* 确保表格在小屏上有最小宽度 */
    background-color: var(--color-background);
}

.post-content th, .post-content td {
    padding: 10px 15px;
    border: 1px solid var(--color-main-border);
    text-align: left;
}

.post-content th {
    background-color: var(--color-code-bg);
    font-weight: 600;
}

@media (prefers-color-scheme: dark) {
    .post-content table {
        background-color: var(--color-card-dark);
    }
    .post-content th {
        background-color: var(--color-code-bg-dark);
    }
}


/* =========================================
   G. 代码高亮/行内代码
   ========================================= */

/* 行内代码 */
.post-content code:not([class]) {
    font-family: 'Consolas', 'Monaco', monospace;
    font-size: 0.95em;
    padding: 2px 5px;
    margin: 0 2px;
    background-color: var(--color-code-bg);
    border-radius: 3px;
    color: var(--color-text);
    white-space: nowrap;
}

@media (prefers-color-scheme: dark) {
    .post-content code:not([class]) {
        background-color: var(--color-code-bg-dark);
        color: var(--color-text-dark);
    }
}

/* 代码块包裹器 */
div.highlight {
    margin: 20px 0;
    overflow-x: auto;
    border-radius: 6px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}

div.highlight pre {
    margin: 0;
    padding: 15px;
    font-family: 'Consolas', 'Monaco', monospace;
    font-size: 0.9rem;
    line-height: 1.5;
    background-color: var(--color-code-bg);
    color: var(--color-text);
}

@media (prefers-color-scheme: dark) {
    div.highlight pre {
        background-color: var(--color-code-bg-dark);
        color: var(--color-text-dark);
    }
}

/* =========================================
   H. 特殊元素：许可、 Admonition, TOC
   ========================================= */

/* Admonitions (提示块) */
.admonition {
    margin: 20px 0;
    padding: 15px;
    border-left: 5px solid;
    border-radius: 0 4px 4px 0;
    background-color: var(--color-card);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.admonition > p {
    margin: 0;
}

.admonition-title {
    font-weight: 700;
    margin-top: 0;
    margin-bottom: 5px;
    padding-bottom: 2px;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    display: flex;
    align-items: center;
}

/* 类型样式 */
.admonition.note { border-left-color: var(--color-admonition-note); }
.admonition.warning { border-left-color: var(--color-admonition-warn); }
.admonition.error { border-left-color: var(--color-admonition-error); }

@media (prefers-color-scheme: dark) {
    .admonition { 
        background-color: var(--color-card-dark);
    }
    .admonition-title {
        border-bottom-color: rgba(255, 255, 255, 0.1);
    }
}

/* 目录 (TOC) */
.toc-area h3 {
    font-size: 1.1rem;
    margin-top: 0;
    margin-bottom: 10px;
}

.toc-area ul {
    list-style: none;
    padding-left: 0;
}

.toc-area li {
    margin-bottom: 5px;
    font-size: 0.95rem;
}

.toc-area a {
    color: var(--color-main-subtext);
    display: block;
}

.toc-area a:hover {
    color: var(--color-primary);
}

.toc-area ul ul {
    padding-left: 15px;
}

/* 文章许可信息 (License) */
.post-license {
    margin-top: 40px;
    padding: 15px;
    border-left: 4px solid var(--color-primary); 
    border-radius: 0; 
    background-color: var(--color-primary-light); 
    font-size: 0.9rem; 
    color: var(--color-main-subtext); 
    line-height: 1.6;
}
@media (prefers-color-scheme: dark) {
    .post-license { background-color: rgba(0, 121, 107, 0.15); border-left-color: var(--color-link-dark); }
}
.post-license p { margin: 5px 0; padding: 0; }
.post-license a { text-decoration: underline; }
.license-icon i {
    display: inline-block; font-style: normal; font-weight: 700; margin-right: 2px; padding: 0 4px; 
    border: 1px solid var(--color-primary); border-radius: 3px; color: var(--color-primary); font-size: 0.85em; 
    line-height: 1.5; vertical-align: middle; transition: all 0.2s;
}
@media (prefers-color-scheme: dark) {
    .license-icon i { border-color: var(--color-link-dark); color: var(--color-link-dark); }
    .post-license a:hover .license-icon i { background-color: var(--color-link-dark); color: var(--color-background-dark); }
}
.post-license a:hover .license-icon i { background-color: var(--color-primary); color: var(--color-background); }


/* 文章导航 (Post Navigation) */
.post-navigation {
    display: flex;
    justify-content: space-between;
    margin-top: 40px;
    padding-top: 20px;
    border-top: 1px dashed var(--color-main-border);
}

.nav-link {
    display: block;
    width: 48%;
    padding: 10px 15px;
    border: 1px solid var(--color-main-border);
    border-radius: 4px;
    color: var(--color-main-text);
    transition: background-color 0.2s, border-color 0.2s;
}

.nav-link h3 {
    margin: 5px 0 0 0;
    font-size: 1.05rem;
    font-weight: 600;
    line-height: 1.3;
}

.nav-link small {
    color: var(--color-main-subtext);
    font-size: 0.85rem;
}

.nav-link-placeholder {
    width: 48%;
}

.nav-link:hover {
    background-color: var(--color-primary-light);
    border-color: var(--color-primary);
    color: var(--color-primary);
}

@media (prefers-color-scheme: dark) {
    .nav-link { 
        background-color: var(--color-card-dark);
        border-color: var(--color-border-dark);
    }
    .nav-link:hover {
        background-color: rgba(128, 203, 196, 0.1); 
        border-color: var(--color-link-dark);
        color: var(--color-link-dark);
    }
    .nav-link small {
        color: var(--color-text-secondary-dark);
    }
}


/* =========================================
   I. 底部
   ========================================= */

footer {
    border-top: 1px solid var(--color-main-border);
    padding: 20px 0;
    font-size: 0.9rem;
    color: var(--color-main-subtext);
}

.footer-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
}

.footer-links a {
    margin-left: 15px;
}

.back-to-top {
    font-weight: 600;
}

/* =========================================
   J. 首页/列表页 (Index/List) - 非卡片化设计 [上次修改]
   ========================================= */

/* 1. 基础列表样式：参考归档页的 ul/li 结构 */
.new-post-list {
    list-style: none;
    padding-left: 0;
    margin: 0;
}

.new-post-list-item {
    /* 继承归档页的虚线分隔线 */
    padding: 20px 0; /* 增加上下内边距 */
    border-bottom: 1px dashed var(--color-main-border);
    transition: background-color 0.2s, border-left 0.2s, padding-left 0.2s; 

    /* 实现归档页的侧边留白和负边距，用于 hover 效果 */
    padding-left: 15px; 
    margin-left: -15px; 
    width: calc(100% + 30px); /* 列表项占据整个内容区域并扩展到两侧 */
}

/* 移除最后一个列表项的底边框 */
.new-post-list-item:last-child {
    border-bottom: none;
}

/* 2. 交互效果：与归档页一致的 Hover/Focus 效果 */
.new-post-list-item:hover, 
.new-post-list-item:focus-within {
    /* 悬停时背景微灰 */
    background-color: rgba(0, 0, 0, 0.02); 
    /* 核心交互：左侧高亮竖线 */
    border-left: 3px solid var(--color-primary); 
    /* 调整左边距以保持总宽度不变 */
    padding-left: 12px; /* 15px - 3px */
    outline: none; 
}

@media (prefers-color-scheme: dark) {
    .new-post-list-item:hover, 
    .new-post-list-item:focus-within {
        background-color: rgba(255, 255, 255, 0.03); /* 暗色模式的微灰 */
        border-left-color: var(--color-link-dark); /* 暗色模式的主题色 */
    }
}


/* 3. 内部排版：标题、日期、标签、摘要的排版优化 */

/* 链接包裹整个列表项内容，使其可点击 */
.new-post-list-item .post-link {
    display: block; 
    color: inherit;
    text-decoration: none;
    padding: 0; 
    margin: 0; 
}

/* 移除全局 a::after 下划线动画 */
.new-post-list-item .post-link::after {
    content: none; 
}
/* 悬停时不改变文字颜色，保持背景/边框变化为主 */
.new-post-list-item .post-link:hover {
    color: inherit; 
}

/* 标题：突出显示 */
.new-post-list-item .post-title {
    font-size: 1.3rem; 
    margin: 0 0 0.4em 0; 
    line-height: 1.3;
    font-weight: 600;
    color: var(--color-main-text);
    transition: color 0.2s;
}

/* 悬停时标题变色 */
.new-post-list-item:hover .post-title {
    color: var(--color-primary);
}
@media (prefers-color-scheme: dark) {
    .new-post-list-item:hover .post-title {
        color: var(--color-link-dark);
    }
}


/* 元数据：日期和标签的容器 */
.new-post-list-item .post-meta {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    margin-bottom: 0.8em; 
    font-size: 0.9rem;
    color: var(--color-main-subtext);
    gap: 0 15px; /* 日期和第一个标签之间的间隔 */
}

/* 日期：采用次要文字颜色 */
.new-post-list-item .post-date {
    font-weight: 500;
    white-space: nowrap;
}

/* 标签：徽章样式 */
.new-post-list-item .tag-badge {
    display: inline-block;
    font-size: 0.8rem;
    padding: 2px 8px;
    border-radius: 4px;
    background-color: var(--color-primary-light);
    color: var(--color-primary);
    line-height: 1.4;
    font-weight: 600;
    white-space: nowrap;
    /* 移除 a::after 的影响 */
    text-decoration: none; 
    transition: opacity 0.2s;
}
/* 暗色模式标签 */
@media (prefers-color-scheme: dark) {
    .new-post-list-item .tag-badge {
        background-color: rgba(128, 203, 196, 0.1); 
        color: var(--color-link-dark);
    }
}
.new-post-list-item .tag-badge:hover {
    opacity: 0.8;
}

/* 摘要：限制行数，保持简洁 */
.new-post-list-item .post-summary {
    margin: 0;
    padding: 0;
    font-size: 0.95rem;
    color: var(--color-main-subtext);
    /* 纯 CSS 限制行数 */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2; /* 限制为 2 行 */
    overflow: hidden;
    text-overflow: ellipsis;
}


/* =========================================
   K. 归档页和标签单页列表样式 (与首页列表风格统一) [本次新增]
   ========================================= */

/* 归档页/标签单页的文章列表容器 */
.post-content-list .archive-list {
    list-style: none;
    padding-left: 0;
    margin: 0;
}

/* 归档年份标题 */
.post-content-list h2 {
    margin-top: 2em;
    margin-bottom: 0.5em;
    font-size: 1.4rem;
    color: var(--color-primary);
    border-bottom: none;
}
@media (prefers-color-scheme: dark) {
    .post-content-list h2 {
        color: var(--color-link-dark);
    }
}

/* 归档列表项的容器 (li) */
.post-content-list .archive-list li {
    /* 继承首页列表项的样式：虚线、内/外边距、过渡 */
    padding: 15px 0; 
    border-bottom: 1px dashed var(--color-main-border);
    transition: background-color 0.2s, border-left 0.2s, padding-left 0.2s; 

    padding-left: 15px; 
    margin-left: -15px; 
    width: calc(100% + 30px);
    list-style: none;
}

/* 归档列表项的链接 (a) */
.post-content-list .list-item-archive {
    display: flex;
    justify-content: space-between;
    align-items: baseline;
    font-size: 1rem;
    color: var(--color-main-text);
}

/* 归档列表项的日期 */
.post-content-list .archive-date {
    flex-shrink: 0; /* 不压缩日期 */
    width: 120px;
    font-family: monospace;
    font-size: 0.9rem;
    color: var(--color-main-subtext);
    margin-right: 20px;
    white-space: nowrap;
}

/* 归档列表项的标题 */
.post-content-list .archive-title {
    flex-grow: 1;
    font-weight: 500;
}


/* 归档页/标签单页的 Hover 效果 (与首页一致) */
.post-content-list .archive-list li:hover, 
.post-content-list .archive-list li:focus-within {
    background-color: rgba(0, 0, 0, 0.02); 
    border-left: 3px solid var(--color-primary); 
    padding-left: 12px;
}
.post-content-list .archive-list li:hover .archive-title {
    color: var(--color-primary);
}

@media (prefers-color-scheme: dark) {
    .post-content-list .archive-list li:hover, 
    .post-content-list .archive-list li:focus-within {
        background-color: rgba(255, 255, 255, 0.03); 
        border-left-color: var(--color-link-dark);
    }
    .post-content-list .archive-list li:hover .archive-title {
        color: var(--color-link-dark);
    }
}

/* 归档页移除最后一个底边框 */
.post-content-list .archive-list li:last-child {
    border-bottom: none;
}


/* =========================================
   L. 标签列表页样式 (Tag List Page) [本次新增]
   ========================================= */

.tags-list-container {
    display: flex;
    flex-wrap: wrap;
    gap: 12px; /* 标签之间的间隔 */
    padding: 10px 0;
}

.tag-entry {
    /* 采用放大版的徽章样式 */
    display: flex;
    align-items: center;
    padding: 8px 15px;
    border-radius: 6px;
    background-color: var(--color-primary-light);
    color: var(--color-primary);
    font-size: 1.1rem;
    font-weight: 600;
    text-decoration: none;
    transition: background-color 0.2s, box-shadow 0.2s, transform 0.1s;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1); /* 柔和的阴影，避免卡片化 */
}

.tag-entry:hover {
    background-color: var(--color-primary);
    color: var(--color-background);
    transform: translateY(-1px); /* 轻微上浮效果 */
    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.2);
}

.tag-entry .tag-name {
    margin-right: 5px;
}

.tag-entry .tag-count {
    font-size: 0.9em;
    font-weight: 400;
    opacity: 0.8;
}

/* 暗色模式标签列表 */
@media (prefers-color-scheme: dark) {
    .tag-entry {
        background-color: rgba(128, 203, 196, 0.1); 
        color: var(--color-link-dark);
        box-shadow: none;
    }
    .tag-entry:hover {
        background-color: var(--color-link-dark);
        color: var(--color-background-dark);
    }
}
